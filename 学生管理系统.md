

本项目是《软件工程》课程的实验项目，旨在设计并实现一个现代化的学生管理系统。项目严格遵循软件工程开发流程，并满足课程设计说明书中的所有功能要求。

- **后端技术栈**: Go (Golang) + Gin (Web框架) + Gorm (ORM)
    
- **前端技术栈**: Vue.js (v3) + Vue Router + Pinia + Axios + Element Plus
    
- **数据库**: MySQL 9.2
    

## 1. 项目描述

本学生管理系统旨在为学校或教育机构提供一个高效、全面的学生信息管理平台。它不仅包括传统学籍管理，还涵盖了课程、成绩、考勤、奖惩及家校联系等多个维度，并配备了精细化的权限控制和数据分析功能，以辅助教学管理决策。

## 2. 功能模块 (对应实验报告要求)

系统根据实验报告要求，规划为以下核心功能模块：

### 2.1. 系统管理与权限 (对应要求 6)

- **用户管理**: 管理员 (Admin) 可以添加、修改、删除系统用户（如教师、学生账户）。
    
- **角色与权限**:
    
    - 实现基于角色的访问控制 (RBAC)。
        
    - 预设角色：`管理员`, `教师`, `学生`, `家长` (可扩展)。
        
    - 管理员可以为不同角色分配对不同模块（菜单、API接口）的访问权限。
        
- **登录与认证**:
    
    - 提供统一登录接口，使用 JWT (JSON Web Tokens) 进行会话管理和认证。
        
    - 后端提供路由守卫（中间件）以保护需要授权的 API。
        
- **统计分析**: (辅助决策)
    
    - 提供数据看板 (Dashboard)，用于展示关键统计数据（如学生总数、班级分布、考勤率等）。
        

### 2.2. 学生信息管理 (对应要求 1)

- **学籍管理**:
    
    - 实现对学生基本信息（姓名、性别、年龄、学号）的 增 (Create)、删 (Delete)、改 (Update)、查 (Retrieve) (CRUD) 操作。
        
    - 支持多条件（如按班级、学号、姓名）的模糊查询和分页。
        
- **扩展信息**:
    
    - 管理学生的联系方式、家庭信息。
        
    - 关联学生的就读班级、班主任信息（班主任信息来自教师表）。
        

### 2.3. 课程与成绩管理 (对应要求 2)

- **课程管理**: 管理员或教师（需授权）可以 CRUD 课程信息（课程名称、授课教师、学分等）。
    
- **选课管理**:
    
    - （可选功能，根据复杂度）学生可登录系统进行选课。
        
    - 管理员或教师可以为学生（或按班级）批量添加课程。
        
- **成绩录入**: 教师可以为所教课程的学生录入考试成绩和（或）平时表现成绩。
    
- **成绩查询**:
    
    - 学生/家长可以查询自己的成绩。
        
    - 教师可以查询所教班级/课程的成绩。
        
    - 管理员可以查询所有成绩。
        

### 2.4. 学生考勤管理 (对应要求 3)

- **考勤记录**: 教师（或班主任）可以记录学生的出勤情况（签到、缺席、请假、迟到）。
    
- **请假管理**:
    
    - （可选流程）学生提交请假申请。
        
    - 教师或管理员审批请假申请，审批通过后考勤状态自动更新为“请假”。
        
- **考勤统计**: 按学生、按班级、按时间范围统计考勤数据。
    

### 2.5. 学生奖惩管理 (对应要求 4)

- **奖惩记录**: 教师或管理员可以录入学生的奖励和处分情况。
    
- **记录类型**: 区分奖励/处分，并记录事由、日期、级别等。
    
- **信息查询**: 学生、家长、教师均可按权限查看相关记录。
    

### 2.6. 家长联系管理 (对应要求 5)

- **家长信息**: 在学生信息中关联家长的联系方式（可设计为独立的家长表）。
    
- **通知功能**:
    
    - 系统提供发布通知的功能（如公告栏）。
        
    - (高级功能) 模拟发送通知、短信、邮件的功能接口（注：实际发送需对接第三方服务，项目初期可只做记录）。
        

## 3. 数据库设计 (Gorm 数据模型)

基于 Gorm，我们定义以下核心数据模型（Go Structs），Gorm 会自动将其映射为数据库表。

```
// 建议放在 /models 目录下

package models

import "gorm.io/gorm"

// 1. 用户表 (用于登录和权限)
type User struct {
    gorm.Model
    Username string `gorm:"uniqueIndex;not null"`
    Password string `gorm:"not null"` // 存储哈希后的密码
    RoleID   uint   // 外键关联 Role
    Role     Role   // Gorm 自动关联
    IsActive bool   `gorm:"default:true"`
    UserID   uint   // 关联学生或教师 (多态关联)
    UserType string // "student", "teacher", "admin"
}

// 2. 角色表 (RBAC)
type Role struct {
    gorm.Model
    RoleName string `gorm:"uniqueIndex;not null"` // e.g., "admin", "teacher", "student"
    // TODO: 可增加权限列表字段 (e.g., JSON or 关联表)
}

// 3. 学生表 (对应要求 1)
type Student struct {
    gorm.Model
    Name        string
    StudentID   string `gorm:"uniqueIndex;not null"` // 学号
    Gender      string // "男", "女"
    Age         int
    Email       string
    Phone       string
    Address     string
    ClassID     uint   // 关联班级
    Class       Class
    UserID      uint   // 关联登录用户 User (如果学生可以登录)
    Parents     []Parent // 一对多关联家长
}

// 4. 家长表 (对应要求 1, 5)
type Parent struct {
    gorm.Model
    StudentID uint   // 关联学生
    Name      string
    Phone     string `gorm:"not null"`
    Relation  string // e.g., "父亲", "母亲"
}

// 5. 教师表
type Teacher struct {
    gorm.Model
    Name      string
    TeacherID string `gorm:"uniqueIndex;not null"` // 教师工号
    Email     string
    Phone     string
    UserID    uint // 关联登录用户 User
}

// 6. 班级表
type Class struct {
    gorm.Model
    ClassName  string `gorm:"not null"`
    TeacherID  uint   // 班主任 (关联 Teacher)
    Teacher    Teacher
    Students   []Student // 一个班级有多个学生
}

// 7. 课程表 (对应要求 2)
type Course struct {
    gorm.Model
    CourseName string `gorm:"not null"`
    TeacherID  uint   // 授课教师 (关联 Teacher)
    Teacher    Teacher
    Credits    float64 // 学分
}

// 8. 选课表 (学生和课程的中间表) (对应要求 2)
type Enrollment struct {
    gorm.Model
    StudentID uint `gorm:"index:idx_student_course,unique"` // 联合唯一索引
    Student   Student
    CourseID  uint `gorm:"index:idx_student_course,unique"`
    Course    Course
    Grades    []Grade // 一个选课记录对应多个成绩 (平时/期末)
}

// 9. 成绩表 (对应要求 2)
type Grade struct {
    gorm.Model
    EnrollmentID uint   // 关联选课记录
    ScoreType    string // e.g., "平时成绩", "期末成绩", "总评"
    Score        float64
}

// 10. 考勤表 (对应要求 3)
type Attendance struct {
    gorm.Model
    StudentID uint   // 关联学生
    Student   Student
    Date      string // 日期 (e.g., "2023-10-27")
    Status    string // "出勤", "缺席", "请假", "迟到"
    Reason    string // (可选) 备注或请假理由
    TeacherID uint   // (可选) 记录人
}

// 11. 奖惩表 (对应要求 4)
type RewardPunishment struct {
    gorm.Model
    StudentID   uint   // 关联学生
    Student     Student
    Type        string // "奖励", "处分"
    Description string
    Date        string // 日期
    Issuer      string // (可选) 发布人/机构
}

// 12. 通知表 (对应要求 5)
type Notification struct {
    gorm.Model
    Title     string
    Content   string
    SenderID  uint // (可选) 发送人 (关联 User)
    Target    string // (可选) 发送目标 e.g., "all", "class:5"
}
```

## 4. API 接口设计 (RESTful)

后端使用 Gin 框架，建议按模块划分 API 路由。

```
/api/v1
    /auth
        POST /login             // 用户登录
        POST /logout            // 用户登出
        GET  /me                // 获取当前用户信息 (需认证)

    /admin
        (需要 Admin 权限)
        /users                  // CRUD 用户 (User)
        /roles                  // CRUD 角色 (Role)
        /permissions            // 角色权限分配

    /students
        (需要认证)
        GET /                   // 获取学生列表 (分页, 搜索)
        POST /                  // 新增学生
        GET /:id                // 获取学生详情
        PUT /:id                // 更新学生信息
        DELETE /:id             // 删除学生

    /classes
        (需要认证)
        GET /                   // 获取班级列表
        POST /                  // 新增班级
        GET /:id                // 获取班级详情 (含学生列表)
        ...

    /courses
        (需要认证)
        GET /                   // 获取课程列表
        ...

    /grades
        (需要认证)
        POST /                  // 录入成绩 (教师)
        GET /student/:id        // 查询某学生所有成绩 (学生/教师)
        GET /course/:id         // 查询某课程所有学生成绩 (教师)

    /attendance
        POST /                  // 录入考勤 (教师)
        GET /student/:id        // 查询某学生考勤 (学生/教师)
        ...

    /rewards
        POST /                  // 录入奖惩 (教师)
        GET /student/:id        // 查询某学生奖惩 (学生/教师)
        ...

    /notifications
        GET /                   // 获取通知列表
        POST /                  // 发布通知 (Admin)
        ...
```

## 5. 项目结构 (推荐)

### 后端 (Go-Gin)

```
/student-management-system/backend
    /cmd
        /main.go            # 程序入口
    /config                 # 配置文件 (config.ini, .env)
    /internal
        /api                # API 路由 (Gin)
            /v1             # API v1
            router.go       # 路由注册
        /middleware         # 中间件 (如: Auth, CORS)
        /models             # Gorm 数据模型 (见上文)
        /repository         # 数据仓库层 (Gorm 操作)
        /service            # 业务逻辑层
        /utils              # 工具函数 (如: JWT, 密码哈希)
    /pkg                    # 可导出的包 (本项目可能较少)
    go.mod
    go.sum
```

### 前端 (Vue)

```
/student-management-system/frontend
    /src
        /api                # API 请求封装 (Axios)
        /assets             # 静态资源 (CSS, images)
        /components         # 公共组件
        /layouts            # 布局 (e.g., 侧边栏, 顶部导航)
        /router             # 路由 (Vue Router)
        /store              # 状态管理 (Pinia)
        /utils              # 工具函数 (e.g., request.js)
        /views              # 页面视图 (e.g., StudentList.vue, Login.vue)
        App.vue
        main.js
    package.json
```

## 6. 开发环境与启动

### 后端

1. **配置**: 创建 `config/config.ini` 或 `.env` 文件，配置数据库连接（MySQL/PostgreSQL）。
    
    ```
    [Database]
    Type = mysql
    Host = 127.0.0.1
    Port = 3306
    User = root
    Password = your_password
    DBName = student_db
    ```
    
2. **安装依赖**:
    
    ```
    go mod tidy
    ```
    
3. **运行**:
    
    ```
    go run ./cmd/main.go
    ```
    
    (Gorm 会根据模型自动迁移或创建数据表)
    

### 前端

1. **安装依赖**:
    
    ```
    npm install
    ```
    
2. **运行 (开发模式)**:
    
    ```
    npm run serve
    ```
    
3. **配置代理**: 在 `vue.config.js` 中配置 `devServer` 代理，将 `/api/v1` 的请求转发到后端服务器（如 `http://localhost:8080`），以解决跨域问题。
    

## 7. 软件工程文档 (对应实验报告要求)

根据实验报告要求，所有软件工程文档将存放于 `/docs` 目录下：

- `/docs/1_需求分析.md` (或 .pdf)
    
    - 包含：用例图 (Use Case)
        
- `/docs/2_概要设计.md`
    
    - 包含：系统架构图、模块设计
        
- `/docs/3_详细设计.md`
    
    - 包含：核心功能的序列图 (Sequence Diagram)、活动图 (Activity Diagram)、类图 (Class Diagram，可由 Gorm 模型导出)
        
- `/docs/4_测试报告.md`
    
    - 包含：关键界面的测试用例。
        
- `/docs/5_项目总结.md`
    
- `/docs/原型系统`
    
    - 包含：关键界面的原型截图 (可使用 Figma, Axure 或直接使用系统截图)